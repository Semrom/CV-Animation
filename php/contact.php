<?php 	header('Cache-Control: no-cache, must-revalidate');	header('Expires: Mon, 26 Jul 1997 05:00:00 GMT');	header('Content-type: application/json');	$reponse = new stdClass();	$reponse->success = false;	$reponse->message = "";		if (isset($_POST['completeName']) && !empty($_POST['completeName']) &&		isset($_POST['mail']) && !empty($_POST['mail']) &&		isset($_POST['message']) && !empty($_POST['message'])) 	{					//Protection des données entrées.		$nom = htmlspecialchars($_POST['completeName']);		$email = htmlspecialchars($_POST['mail']);		$message = htmlspecialchars($_POST['message']);				//Expression régulière pour la vérification de l'e-mail.		$regex_mail = '/^[-+.\w]{1,64}@[-.\w]{1,64}\.[-.\w]{2,6}$/i';				if (preg_match($regex_mail, $email))		{		   $to = 'romain.semler@gmail.com';		   $info = "semrom.fr/cv/";		   $headers = 'From: ' . $info . "\n\n\n\n";		 		       $msg  = 'Ce mail a été envoyé depuis votre CV animé par ' . $nom . '. Son adresse mail est ' . $email . "\n\n";	       $msg .= 'Voici le message adressé :' . "\n\n";	       $msg .= '***************************' . "\n\n";	       $msg .= $message . "\n\n";	       $msg .= '***************************' . "\n\n";		       if (mail($to, $titre, $msg, $headers))		   {		   		unset($_POST);		   		$reponse->success = true;		   		$reponse->message = "Votre message a bien été envoyé.";		   }		   else 		   {		   		$reponse->success = false;		   		$reponse->message = "Problème lors de l'envoi du message.";		   }		}		else 		{			$reponse->success = false;			$reponse->message = "Le format de l'adresse e-mail est incorrect.";		}	}	else 	{		$reponse->success = false;		$reponse->message = "Le formulaire est incomplet.";	}		echo json_encode($reponse);		